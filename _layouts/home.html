---
layout: default
---

{% include site-header.html %}

<main class="main  container">

	<div class="content">

    <article class="article  article--page  typeset">

			{% assign collectiondata = site.collections | where: "label", page.collectionpage | first %}
			<h1>drinkcheap</h1>

    </article>

    <ul class="list  list--posts">
    {% for page in site.posts limit: 10 %}
      <li class="item  item--post" data-day="{{ page.day }}" data-title="{{ page.title }}" data-recurring="{{ page.recurring }}">
        <article class="article  article--post  typeset">

          <h2><a href="{{ site.baseurl }}{{ page.url }}">{{ page.title }}</a></h2>
          {{ page.excerpt | markdownify | truncatewords: 60 }}

        </article>
      </li>
    {% endfor %}
  </ul>
  </div>
</main>

<script>
    function getCurrentDay() {
        const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
        const now = new Date();
        return days[now.getDay()];
    }

    document.addEventListener("DOMContentLoaded", function() {
        const currentDay = getCurrentDay();
        const posts = document.querySelectorAll('.item--post');
        const pageTitle = post.getAttribute('data-title');
        const recurring = post.getAttribute('data-recurring')

        posts.forEach(post => {
            const postDay = post.getAttribute('data-day');
            if (recurring == "true") {
	            if (pageTitle === "active now" && postDay !== currentDay) {
	                post.style.display = 'none';
	            }
	         }
        });
    });
</script>

{% include site-footer.html %}
